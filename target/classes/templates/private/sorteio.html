<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

	<head th:replace="fragmentos/head :: head-css">
	
<!-- 							<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/index slot.css" -->
<!-- 	th:href="@{/css/index slot.css}" type="text/css" /> -->
	
	
<!-- 					<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/style slot.css" -->
<!-- 	th:href="@{/css/style slot.css}" type="text/css" /> -->
	
	</head>
	
<!-- 								<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/index slot.css" -->
<!-- 	th:href="@{/css/index slot.css}" type="text/css" /> -->
	
	
<!-- 					<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/style slot.css" -->
<!-- 	th:href="@{/css/style slot.css}" type="text/css" /> -->

		
		<title>Sorteio</title>
		
<!-- 								<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/index slot.css" -->
<!-- 	th:href="@{/css/index slot.css}" type="text/css" /> -->
	
	
<!-- 					<link rel="stylesheet" media="screen" -->
<!-- 	href="resources/static/css/style slot.css" -->
<!-- 	th:href="@{/css/style slot.css}" type="text/css" /> -->

			<body  class="hold-transition skin-red sidebar-mini" th:class=" 'hold-transition skin-'+ ${configuracaoAtual.cortopo} + ' sidebar-mini sidebar-collapse' ">
			
			
<!-- 			<div id="fb-root"> </div> -->
<!-- <script th:async="async" th:defer="defer"  crossorigin="anonymous" -->
<!--  th:src="@{https://connect.facebook.net/pt_BR/sdk.js#xfbml=1&amp;version=v5.0&amp;appId=1047331868960513}" -->
<!--  src="https://connect.facebook.net/pt_BR/sdk.js#xfbml=1&amp;version=v5.0&amp;appId=1047331868960513"> -->
 
<!--  </script>	 -->
			
<!-- 			<div id="fb-root"></div> -->
<!-- <script async defer crossorigin="anonymous" th:src="@{https://connect.facebook.net/pt_BR/sdk.js#xfbml=1&version=v5.0}"></script> -->
			
					

			
			
			<div class="wrapper">

	   			  <nav th:replace="fragmentos/top-nav :: nav">
				
				</nav>
				
					<div th:replace="fragmentos/nav :: nav-side"> </div>
				
  <div class="content-wrapper">
    <section class="content-header">
      <h1>
<!--         Início -->
        <small th:text="${usuario.nome}" >Usuarios</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"  ></i> Sorteio</a> Online</li>
        <li class="active">Soteio</li>
      </ol>
    </section>
    
    
    
    <section class="content connectedSortable">
    
             <span id="msgres"> </span>
    
    
     <div class="col-md-4"  th:if="${sucesso}">
    
    <div class="alert alert-success alert-dismissible" role="alert" >
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true"><i class="fa fa-times" style="color:#fff;"></i></button>
                <h4><i class="icon fa fa-check"></i> Sucesso</h4>
               <p th:text="${sucesso}"> Success alert preview. This alert is dismissable.</p>
              </div>
              
              
              </div>
              
              
              
              <div class="col-md-4"  th:if="${erro}">
                  <div class="alert alert-danger alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true"> <i class="fa fa-times" style="color:#fff;"></i></button>
                <h4><i class="icon fa fa-check"></i> Erro </h4>
               <p th:text="${erro}"> Erro alert preview. This alert is dismissable.</p>
              </div>
              
              </div>
    
   
        
        
        <br></br>
        
        
                <section class="col-md-3 connectedSortable">
        
                 <div class="box box-primary">
            <div class="box-body box-profile">
            <p>
              
              <div class="pull-right">
               

         		 <a href="#" th:if="${usuarioAtt.online}"><i class="fa fa-circle text-success"></i> Online</a>
      			 <a href="#" th:unless="${usuarioAtt.online}"><i class="fa fa-circle text-danger"></i> Offline</a>
      			</div>
      			
              <img class="profile-user-img img-responsive img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${usuarioAtt.foto})}" alt="User profile picture"/>

      			
      			 </p>
      			 
<!--         	</div> -->
        	
              <h3 class="profile-username text-center" th:utext="${usuarioAtt.nome}">Nina Mcintire</h3>

              <p class="text-muted text-center" th:utext="${usuarioAtt.email}">Software Engineer</p>

              <ul class="list-group list-group-unbordered">
<!--                 <li class="list-group-item"> -->
<!--                   <b>Indicações</b> <a class="pull-right"  th:text="${#lists.size(usuarioAtt.indicacoes)}">1,322</a> -->
<!--                 </li> -->
<!--                 <li class="list-group-item"> -->
<!--                   <b>Curtidas</b> <a class="pull-right" th:text="${#lists.size(usuarioAtt.mensagens)}">543</a> -->
<!--                 </li> -->
<!--                 <li class="list-group-item"> -->
<!--                   <b>Sei lá</b> <a class="pull-right">13,287</a> -->
<!--                 </li> -->
              </ul>
              
              	               <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-photo"></i>
                  </div>
							
			<input id="usuid" name="usuid" class="form-control android" type="text"  th:value="${usuarioAtt.id}" placeholder="Digite id usuario" readonly="readonly"/>
							
			                </div>
			              </div>
			               <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-photo"></i>
                  </div>
							
			<input id="idticket" name="idticket" class="form-control android" type="text" th:value="${idticket}"  placeholder="Digite a Numero o Ticket"  />
							
			                </div>
			              </div>
              <button id="btnvalidar" th:onclick="'ValidarSorteio(\''+${idticket}+'\');'" th:text="|Validar|" class="btn btn-primary btn-raised btn-block"></button>
            </div>
            <!-- /.box-body -->
          </div>
        
        
        
        </section>
        

     <section class="col-md-6 connectedSortable">
             <div class="box box-solid">
            <div class="box-header bg-black with-border ui-sortable-handle"  th:class=" 'box-header bg-'+ ${configuracaoAtual.cortopo} + ' with-border ui-sortable-handle'">
              
              <i class="fa fa-flag"></i>
              <h3 class="box-title">Sorteio</h3>

              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
           
           
            <section >
            
                  <canvas id="canvas">Canvas is not supported in your browser.</canvas>
            
            
            </section>
      
            
          <div id="casino" >
      <div class="content">
        <h1 id="msgcass">
         <span id="prem"> </span>
        </h1>

        <div>
        
         <div id="casino1" class="slotMachine" style="margin-left: -75px;">
  								<div  th:each="premio, rowStat: ${premios}" th:class="'slot slot'+${rowStat.index}" >
                              <img th:src="@{/img/premio/{fotoc}(fotoc=${premio.foto})}"  />
<!--                               <p th:utext="${premio.name}" class="badge bg-teal" style="width: 100%;"> </p> -->
                              </div>
              </div>
<!--           <div id="casino1" class="slotMachine" style="margin-left: -65px;"> -->
<!--             <div class="slot slot1"></div> -->
<!--             <div class="slot slot2"></div> -->
<!--             <div class="slot slot3"></div> -->
<!--             <div class="slot slot4"></div> -->
<!--             <div class="slot slot5"></div> -->
<!--             <div class="slot slot6"></div> -->
<!--           </div> -->

         <div id="casino2" class="slotMachine" >
  								<div  th:each="premio, rowStat: ${premios}" th:class="'slot slot'+${rowStat.index}" >
                              <img th:src="@{/img/premio/{fotoc}(fotoc=${premio.foto})}"  />
<!--                               <p th:utext="${premio.name}" class="badge bg-teal" style="width: 100%;"> </p> -->
                              </div>
              </div>
              
<!--           <div id="casino2" class="slotMachine"> -->
<!--             <div class="slot slot1"></div> -->
<!--             <div class="slot slot2"></div> -->
<!--             <div class="slot slot3"></div> -->
<!--             <div class="slot slot4"></div> -->
<!--             <div class="slot slot5"></div> -->
<!--             <div class="slot slot6"></div> -->
<!--           </div> -->


         <div id="casino3" class="slotMachine">
  								<div  th:each="premio, rowStat: ${premios}" th:class="'slot slot'+${rowStat.index}" >
                              <img th:src="@{/img/premio/{fotoc}(fotoc=${premio.foto})}"  />
<!--                               <p th:utext="${premio.name}" class="badge bg-teal" style="width: 100%;"> </p> -->
                              
                                                            <p th:utext="${premio.name}" class="badge bg-teal" hidden="true">
                              
                             
                               </p>
                               
                                <span th:utext="${premio.id}" class="badge bg-teal" hidden="true"> </span>
                              
                              </div>
              </div>
<!--           <div id="casino3" class="slotMachine"> -->
<!--             <div class="slot slot1"></div> -->
<!--             <div class="slot slot2"></div> -->
<!--             <div class="slot slot3"></div> -->
<!--             <div class="slot slot4"></div> -->
<!--             <div class="slot slot5"></div> -->
<!--             <div class="slot slot6"></div> -->
<!--           </div> -->


        </div>
      </div>
      
                <div class="tols col-md-12">
            <button id="casinoShuffle" type="button" class="btn btn-primary btn-md">Iniciar</button>
            <button id="casinoStop" type="button" class="btn btn-warning btn-md">Parar</button>
            <button id="casinoStopall" type="button" class="btn btn-danger btn-md">Parar Todos</button>
<!--             <button id="casinowin" type="button" class="btn btn-info btn-md">Gamble</button> -->
         
         
          </div>
      
<!--       <div class="container"> -->

<!--       </div> -->

    </div>

        
        </div>
        
        
        
        </div>
        </section>
        
        

        <section class="col-md-3 connectedSortable">
        
                 <div class="box box-primary">
            <div class="box-body box-profile">
            <p>
              

      			
              <img class="profile-user-img img-responsive img-circle" th:src="@{/img/sorteio/{fotoc}(fotoc=${fileimg})}" alt="User profile picture"/>

      			
      			 </p>
      			 
<!--         	</div> -->
        	
              <h3 class="profile-username text-center">Cupom Desconto</h3>

              <p class="text-muted text-center">Sushi SEMPAI</p>

<!--               <ul class="list-group list-group-unbordered"> -->
<!--                 <li class="list-group-item"> -->
<!--                   <b>Indicações</b> <a class="pull-right"  th:text="${#lists.size(usuarioAtt.indicacoes)}">1,322</a> -->
<!--                 </li> -->
<!--                 <li class="list-group-item"> -->
<!--                   <b>Curtidas</b> <a class="pull-right" th:text="${#lists.size(usuarioAtt.mensagens)}">543</a> -->
<!--                 </li> -->
<!--                 <li class="list-group-item"> -->
<!--                   <b>Sei lá</b> <a class="pull-right">13,287</a> -->
<!--                 </li> -->
<!--               </ul> -->

                    <form id="formsorteio"  th:action="@{/sorteio/salvarSorteio}" th:object="${sorteio}" ModelAttribute="sorteio"  enctype="multipart/form-data"  method="post">  
            
            
<!--             <div class="widget-user-image" th:if="${filename}"> -->
<!--               <img class="img-circle" th:src="@{/img/cliente/{fotoc}(fotoc=${filename})}" alt="User Avatar file"/> -->
<!--             </div> -->
            
<!--                         <div class="widget-user-image" th:unless="${usuarioAtt.foto}"> -->
<!--               <img class="img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${filename})}" alt="User Avatar file unles" width="150px" height="150px"/> -->
<!--             </div> -->
            
            
            
<!--                        <div class="widget-user-image" th:if="${usuarioAtt.foto}"> -->
<!--               <img class="img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${usuarioAtt.foto})}" alt="User Avatar pac if" width="150px" height="150px"/> -->
<!--             </div> -->
            
            

			         		
	

            
             <div class="form-group">
                   			                        
			         		
			<div class="checkbox">
                <label>
				<input id="ativo" name="optionsCheckboxes"  type="checkbox" th:checked="${sorteio.ativo}" class="checkbox"/>Ativo?
				</label>
              </div>
                                
			<div class="checkbox">
                <label>
				<input id="valido" name="optionsCheckboxes"  type="checkbox" th:checked="${sorteio.valido}" class="checkbox"/>Valido?
				</label>
              </div>
                                
                                
			<div class="checkbox">
                <label>
				<input id="resgatado" name="optionsCheckboxes"  type="checkbox" th:checked="${sorteio.resgatado}" class="checkbox"/>Ativo?
				</label>
              </div>

			            </div>
			            
			            <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-lock"></i>
                  </div>
			               
                                  <input id="id" name="id" class="form-control"  type="text" th:value="${sorteio.id}" readonly="readonly"/>
			              </div>
			              
			              </div>
			            
			                                        <div class="form-group label-floating ">
<!--                             <div class="control-group"> -->
<!--                                 <label class="control-label">Data Nascimento</label> -->
                                                    <div class="input-group date">
                  <div class="input-group-addon">
                    <i class="fa fa-calendar"></i>
                  </div>
                                    <input autocomplete="off" id="data" class="form-control pull-right" name="data" type="text" th:field="*{data}"
                                           placeholder="Data" />
                                </div>
                                </div>
                                
                                <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-photo"></i>
                  </div>
							
										<input id="usuario" name="usuario" class="form-control android" type="text"  th:value="${sorteio.usuario}" placeholder="Digite a cliente" />
							
			                </div>
			              </div>
			              
			              <div class="form-group label-floating ">
                             <div class="input-group">
                  <div class="input-group-addon">
                    <i class="fa fa-photo"></i>
                  </div>
							
										<input id="premio" name="premio" class="form-control android" type="text"  th:value="${sorteio.premio}" placeholder="Digite a premio" />
							
			                </div>
			              </div>
 
 
                 <button id="salvar" type="submit" class="btn btn-success btn-raised btn-block" disabled="disabled"  >Salvar
              <i class="material-icons">email</i>
             </button>
                                    
                  </form>  


					

<!--               <a id="salvarpremio" href="#" class="btn btn-success btn-raised btn-block disabled"><b>Salvar Prêmio</b></a> -->
            </div>
            <!-- /.box-body -->
          </div>
        
        
        
        </section>
        


    </section>
    
           
  </div>

	<div th:replace="fragmentos/footer :: script" style="display:none;"></div>
	

	

			
	
		</div>	
		
		
	<script type="text/javascript">

function ValidarSorteio(idticket) {
	
// 	var txt = $("#carrinho_"+id);
	
// 	var carrinho = new Object();
	
// 			carrinho.garcon = $("#garcon option:selected").val();
// 			carrinho.mesa=$("#mesa option:selected").val();
// 			carrinho.origempedido=$("#origempedido option:selected").val();
	
//     $.post("/cardapio/carrinho/finalizaCarrinho", {'id' : id,'idgarcon' : carrinho.garcon ,'idmesa' : carrinho.mesa ,
//     	'idorigem' : carrinho.origempedido}, function(resposta) {
    
//        $("#carrinho_"+id).html("Finalizado com Sucesso");
//         txt.focus();
//         var txtt = $("#carrinho_"+id).focus();

//         window.location.replace("http://sushisenpai.herokuapp.com/home");
        
//         window.location.replace("http://localhost:8082/cardapio/home");

//     });
    
    
  
    var usuario = $("#usuid").val();
    var id=$("#idticket").val();
//     var origempedido=$("#origempedido option:selected").val();

    $.post("/cardapio/sorteio/sorteio/validarSorteio", {id: id , usuid : usuario}, function(resposta) {
	
// 	    $.post("/cardapio/carrinho/finalizaCarrinho", {id: id , idgarcon : garcon ,idmesa : mesa ,
//     	idorigem : origempedido}, function(resposta) {

//       $("#carrinho_"+id).html("Finalizado com Sucesso");
       
		$("#msgres").html(resposta);//         txt.focus();
//         var txtt = $("#carrinho_"+id).focus();

//         window.location.replace("http://sushisenpai.herokuapp.com/home?id="+id);
        
//         window.location.replace("http://localhost:8082/cardapio/home?id=" + id);

    });
    
    
    $("#btnvalidar").attr('disabled','disabled');

    
};


// var origempedido=$("#origempedido option:selected").val();

// function TipoPedido() {

// 	var origempedido=$("#origempedido option:selected").val();

// 	if(origempedido=='TELEVENDAS' || origempedido=='INTERNET') {
		
// 		alert("PEDIDO PARA ENTREGA, NECESSITA CADASTRO");
	
// 	}
	
	
// 	}





 
</script>	


		

	   </body>
			
			
</html>

