<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

	<head th:replace="fragmentos/head :: head-css">
	
	
	</head>
		
		<title>Cadastro de Categoria</title>

<body  class="hold-transition skin-red sidebar-mini"  th:class=" 'hold-transition skin-'+ ${configuracaoAtual.cortopo} + ' sidebar-mini' ">
			
			<div class="wrapper">

	   			  <nav th:replace="fragmentos/top-nav :: nav">
				
				</nav>
				
					<div th:replace="fragmentos/nav :: nav-side"> </div>
					
					
					  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
       Categoria
        <small>Cadastro</small>
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Categoria</a></li>
        <li class="active"><a href="#">Cadastro</a></li>
<!--         <li class="active">Blank page</li> -->
      </ol>
    </section>
    
    
		 <div class="content">
		 
		 
		 <!-- 				mensagens do sistema  -->
				
		<div class="row-fluid" th:if="${sucesso}">
					
			<div class="alert alert-success alert-dismissible" role="alert">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">check</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${sucesso}">
					
					
					
					</span>
					
				
						<span class="btn btn-sm btn-warning"><a th:href="@{/categoria/cadastro}"><i></i>Novo</a></span>
					    <span class="btn btn-sm btn-warning"><a th:href="@{/categoria/editar(id=${categoria.id})}"><i></i>Editar</a></span>
				
				</div>
				
				
			</div>
					
					
					
			</div>
					
			<div class="row-fluid" th:if="${erro}">
					
			<div class="alert alert-danger alert-dismissible" role="alert">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">error</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${erro}"></span>
				
						<span class="btn btn-sm btn-warning"><a th:href="@{/categoria/cadastro}"><i></i>Novo</a></span>
					    <span class="btn btn-sm btn-warning"><a th:href="@{/categoria/editar(id=${categoria.id})}"><i></i>Editar</a></span>
			
				</div>
				
				
			</div>
					
					
					
			</div>
				
<!-- fim das mensagens -->


<!-- inicio do conteudo  -->

				<div class="col-md-4">
					<!--                       <div class="panel form-element-padding"> -->
					<!--                         <div class="panel-heading"> -->
					<!--                          <h4>Cadastro de Produto</h4> -->
					<!--                         </div> -->
					<div class="panel-body">

						<form th:action="@{/categoria/salvarfotocategoria}"
							th:object="${categoria}" ModelAttribute="categoria"
							enctype="multipart/form-data" method="post">

							<!-- Widget: user widget style 1 -->
							<div class="box box-widget widget-user">
								<!-- Add the bg color to the header using any of the bg-* classes -->
								<div class="widget-user-header bg-aqua-active">
									<h3 class="widget-user-username" th:text="${categoria.nome}">Thanh
										Nguyen</h3>
									<h5 class="widget-user-desc" th:text="${categoria.catpai}">Founder
										&amp; CEO</h5>
								</div>



								<div class="widget-user-image" th:if="${categoria.foto}">
									<img class="img-circle"
										th:src="@{/img/categoria/{fotoc}(fotoc=${categoria.foto})}"
										alt="User Avatar usu if" />
								</div>

								<div class="widget-user-image" th:unless="${categoria.foto}">
									<img class="img-circle"
										th:src="@{/img/categoria/{fotoc}(fotoc=${filename})}"
										alt="User Avatar usu unless" />
								</div>


								<div class="box-footer">
									<div class="row">
										<div class="col-sm-12">
											<div class="description-block">

												<div class="form-group">
													<label for="file">File input</label> <input type="text"
														readonly="" class="form-control" th:value="${filename}"
														th:placeholder="${filename}" /> <input type="file"
														id="file" multiple="multiple" name="file" />

													<!--                   <p class="help-block">Example block-level help text here.</p> -->
												</div>

												<!--                     <h5 class="description-header"> -->
												<button type="submit"
													class="btn btn-primary btn-raised btn-block">
													Add foto
													<div class="ripple-container"></div>
												</button>

												<!--                     </h5> -->

												<!--                     <span class="description-text"><i class="fa fa-photo"></i></span> -->
											</div>
											<!-- /.description-block -->
										</div>
										<!-- /.col -->
									</div>
									<!-- /.row -->
								</div>
							</div>
							<!-- /.widget-user -->

						</form>
					</div>
				</div>


 <div class="col-md-7 panel">
		 <div class="col-md-7">
<!--                       <div class="panel form-element-padding"> -->
                        <div class="panel-heading">
                         <h4>Cadastro de Categoria</h4>
                        </div>
                         <div class="panel-body" style="padding-bottom:30px;">

                      
                        <form class="form-horizonta" method="post" th:object="${categoria}" 
                             th:action="@{/categoria/{acao}(acao=${acao})}">

			<div class="checkbox">
                <label>
				<input id="ativo" name="optionsCheckboxes"  type="checkbox" th:checked="${categoria.ativo}" class="checkbox"/>Ativo?
				</label>
              </div>

						<div class="form-group label-floating ">
                            <div class="control-group">
                                <label class="control-label">Id</label>
                                <div class="controls">
                                    <input id="id" class="form-control" name="id" type="text" th:value="${categoria.id}"
                                           placeholder="" readonly="readonly"/> 
                                </div>
                            </div>
                            </div>
                            
                            <div class="form-group label-floating ">
                            <div class="control-group">
                                <label class="control-label">Nome</label>
                                <div class="controls">
                                    <input id="nome" class="form-control" name="nome" type="text" th:value="${categoria.nome}"
                                           placeholder=""> </input>
                                </div>
                            </div>
                            </div>
                            
                            
							
							<div class="form-group label-floating ">
                            <div class="control-group">
                                <label class="control-label">Categoria Pai</label>
                                <div class="controls">

                                    <select id="catpai" name="catpai" class="form-control">
                                        <optgroup label="Tipos de Categoria Pai">

                                            <option th:value="${categoria.catpai}" class="selected" th:selected="${categoria.catpai}"
                                            th:utext="${categoria.catpai}">
                                            
                                            
                                            </option>

                                                
                                             	<option th:each="categoria: ${categoriaListall}" th:value="${categoria.id}" > categoria 
                                             	
                                             		<span th:utext="${categoria.nome}">Nenhuma Regra
														Cadastrada </span>
                                             	
                                             	</option>
					           				      	
				           				   		


                                        </optgroup>
                                    </select>


                                </div>
                            </div>
                            </div>
                            
                            						<div class="form-group label-floating ">
							<div class="input-group">
								<div class="input-group-addon">
									<i class="fa fa-photo"></i>
								</div>
								<input th:unless="${categoria.foto}" autocomplete="off" id="foto"
									class="form-control" name="foto" type="text"
									th:value="${filename}" placeholder="Foto" readonly="readonly"> </input>
									
									 <input
									th:if="${categoria.foto}" autocomplete="off" id="foto"
									class="form-control" name="foto" type="text"
									th:value="${categoria.foto}" placeholder="Foto" readonly="readonly"> </input>


							</div>
						</div>
                            
                            
                            <div class="form-actions">
                                <input type="submit" th:value="${acao}" class="btn btn-success"> </input>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
		

		

<!-- 			<div class="clearfix"></div> -->


<!--              <div th:replace="fragmentos/footer :: footer"> -->
            
<!--             </div> -->
            
            
<div th:replace="fragmentos/footer :: script" style="display:none;"></div>

</div>

	

<!-- </div> -->

			
</body>
		<script type="text/javascript">
	
    $(function () {
   	 
   	 $(".select2").select2();
	
    $('.datepicker').datepicker({
        autoclose: true,
        format: 'dd/mm/yyyy',
	    	language: 'pt-BR'
      });
    
	    $(".timepicker").timepicker({
	        showInputs: false
	      });
   
	    
	    
	    $('.alert').alert();
	     
	     $('.alert').fadeIn('slow', function(){
	         $('.alert').delay(2000).fadeOut(); 
	     
//	          demo.showNotification('top','center','${erros}');
//	          demo.showNotification('top','center','${mensagem}');
	      
	      });
	    
    
    });
	
	
	</script>		
			
</html>

