<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head th:replace="fragmentos/head :: head-css">
    <title>Reistro de Usuario</title>
</head>

<body  class="hold-transition register-page" >
			
<!-- 			<div class="wrapper"> -->

<!-- 	   			  <nav th:replace="fragmentos/top-nav :: nav"> -->
				
<!-- 				</nav> -->
				
<!-- 					<div th:replace="fragmentos/nav :: nav-side"> </div> -->

<!--   <div class="content-wrapper"> -->
<!--     Content Header (Page header) -->
<!--     <section class="content-header"> -->
<!--       <h1 th:text="${errMsg}" > -->
<!-- 		Registro de Novo Usuario -->
<!--       </h1> -->
<!--       <ol class="breadcrumb"> -->
<!--         <li><a href="#"><i class="fa fa-dashboard"></i> Novo Usuario</a></li> -->
<!--         <li><a href="#">Novo Usuario</a></li> -->
<!--         <li class="active">Novo Usuario</li> -->
<!--       </ol> -->
<!--     </section> -->

    <!-- Main content -->
    <section class="content">


	<div class="row-fluid" th:if="${sucesso}">
					
			<div class="alert alert-success">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">check</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${sucesso}">
					
					
					
					</span>
					
				
				
				
				</div>
				
				
			</div>
					
					
					
			</div>
					
			<div class="row-fluid" th:if="${erro}">
					
			<div class="alert alert-danger">
				<div class="container-fluid">
					<div class="alert-icon">
						<i class="material-icons">error</i>
					</div>
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true"><i class="material-icons">clear</i></span>
					</button>
					<b>Mensagem:</b> <span th:utext="${erro}"></span>
				
						
			
				</div>
				
				
			</div>
					
					
					
			</div>



	<div class="register-box">
  <div class="register-logo">
    <a th:href="@{/registro}">Novo<b>Usuario</b>new</a>
    
    
  </div>

  <div class="register-box-body">
    <p class="login-box-msg">ReGistro de Novo Membro</p>
    
    	<div class="col-md-8" style="margin: 5px;">

					<form th:action="@{/salvarfotousuarioReg}" th:object="${usuario}"
						ModelAttribute="usuario" enctype="multipart/form-data"
						method="post">

						<!-- Widget: user widget style 1 -->
						<div class="box box-widget widget-user">
							<!-- Add the bg color to the header using any of the bg-* classes -->
							<div class="widget-user-header bg-aqua-active">
								<h3 class="widget-user-username" th:text="${usuario.email}">Thanh
									Nguyen</h3>
								<h5 class="widget-user-desc" th:text="${usuario.roles}">Founder
									&amp; CEO</h5>
							</div>

							<!--             <div class="widget-user-image" th:if="${filename}"> -->
							<!--               <img class="img-circle" th:src="@{/img/usuario/{fotoc}(fotoc=${filename})}" alt="User Avatar file if"/> -->
							<!--             </div> -->

							<!--                         <div class="widget-user-image" th:unless="${filename}"> -->
							<!--               <img class="img-circle" th:src="@{/img/avatar2.png}" alt="User Avatar file unless"/> -->
							<!--             </div> -->



							<div class="widget-user-image" th:if="${usuario.foto}">
								<img class="img-circle"
									th:src="@{/img/usuario/{fotoc}(fotoc=${usuario.foto})}"
									alt="User Avatar usu if" />
							</div>

							<div class="widget-user-image" th:unless="${usuario.foto}">
								<img class="img-circle"
									th:src="@{/img/usuario/{fotoc}(fotoc=${filename})}"
									alt="User Avatar usu unless" />
							</div>


							<div class="box-footer">
								<div class="row">
									<!--                 <div class="col-sm-4 border-right"> -->
									<!--                   <div class="description-block"> -->
									<!--                     <h5 class="description-header">3,200</h5> -->
									<!--                     <span class="description-text">SALES</span> -->
									<!--                   </div> -->
									<!--                   /.description-block -->
									<!--                 </div> -->
									<!-- /.col -->
									<!--                 <div class="col-sm-4 border-right"> -->
									<!--                   <div class="description-block"> -->
									<!--                     <h5 class="description-header">13,000</h5> -->
									<!--                     <span class="description-text">FOLLOWERS</span> -->
									<!--                   </div> -->
									<!--                   /.description-block -->
									<!--                 </div> -->
									<!-- /.col -->
									<div class="col-sm-12">
										<div class="description-block">

											<div class="form-group">
												<label for="file">File input</label> <input type="text"
													readonly="" class="form-control" th:value="${filename}"
													th:placeholder="${filename}" /> <input type="file"
													id="file" multiple="multiple" name="file" />

												<p class="help-block">Example block-level help text
													here.</p>
											</div>

											<h5 class="description-header">
												<button type="submit"
													class="btn btn-primary btn-raised btn-block">
													Add foto
													<div class="ripple-container"></div>
												</button>

											</h5>

											<span class="description-text"><i class="fa fa-photo"></i></span>
										</div>
										<!-- /.description-block -->
									</div>
									<!-- /.col -->
								</div>
								<!-- /.row -->
							</div>
						</div>
						<!-- /.widget-user -->

					</form>
				</div>

	
    <form id="reg" method="post" th:object="${usuario}" ModelAttribute="usuario" th:action="@{/registroenv}" role="form">
      
      								<div class="form-group has-feedback">

									<div class="checkbox">


										<label> <input type="checkbox"
											th:checked="${usuario.ativo}" /> Ativo
										</label>
									</div>



								</div>
      
      
      
      <div class="form-group has-feedback">
       			<input id="nome" name="nome" class="form-control" type="text"
											th:value="${usuario.nome}" placeholder="Digite o Nome" />
        <span class="glyphicon glyphicon-user form-control-feedback"></span>
      </div>
      
      								<div class="form-group has-feedback ">
									<div class="input-group date">
										<div class="input-group-addon">
											<i class="fa fa-calendar"></i>
											</div>
										<input id="datacadastro" class="form-control datepicker"
											name="datacadastro" type="text"
											th:value="${usuario.datacadastro}" />
									</div>
								</div>
      
      
      <div class="form-group has-feedback">
			<input id="email" name="email" class="form-control"
											type="text" th:value="${usuario.email}"
											placeholder="Digite o Email" />     
											   <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
      </div>
      
      								<div class="form-group has-feedback ">
									<div class="input-group">
										<div class="input-group-addon">
											<i class="fa fa-photo"></i>
										</div>

										<input id="foto" name="foto" class="form-control" type="text"
											th:value="${usuario.foto}" placeholder="Digite a foto" />

									</div>
								</div>
      
      <div class="form-group has-feedback">
				<input id="senha" name="senha" class="form-control"
											type="password" th:value="${usuario.senha}"
											placeholder="Digite a Senha" />        <span class="glyphicon glyphicon-lock form-control-feedback"></span>
      </div>
      <div class="form-group has-feedback">
        <input type="password" class="form-control" placeholder="Retype password"/>
        <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
      </div>
      
      								<div class="form-group has-feedback ">
									<div class="input-group">
										<div class="input-group-addon">
											<i class="fa fa-user-secret"></i>
										</div>
										<select id="roles" name="roles" multiple="multiple"
											class="form-control select2">
											<optgroup label="Tipos de Permissoes do usuario">

												<option th:each="rol: ${usuario.roles}"
													th:selected="${rol.name}" class="selected" th:text="${rol.name}" th:value="${rol.id}">Usuario
													Não Tem Nenhuma Regra</option>



												<option th:each="role : ${roles}" th:value="${role.id}">

													<span th:text="${role.name}">Nenhuma Regra
														Cadastrada </span>

												</option>


											</optgroup>
										</select>

									</div>
								</div>
      
      
      <div class="row">
        <div class="col-xs-7">
          <div class="checkbox">
            <label>
              <input type="checkbox"/> Concordo com os <a href="#">Termos</a>
            </label>
          </div>
        </div>
        <!-- /.col -->
        <div class="col-xs-5">
          <button type="submit" class="btn btn-primary btn-raised btn-block">Registro</button>
        </div>
        <!-- /.col -->
      </div>
    </form>



    <a th:href="@{/login}" class="text-center">já sou Membro</a>
  </div>
  <!-- /.form-box -->
</div>


    </section>
    <!-- /.content -->
<!--   </div> -->
  
  	<div th:replace="fragmentos/footer :: script" style="display:none;"></div>
  	
  	
	<script src="resources/static/js/bootstrap-datepicker.pt-BR.js"
		th:src="@{/js/bootstrap-datepicker.pt-BR.js}" th:inline="javascript"></script>
  
<!-- </div> -->

		<script type="text/javascript">
	
    $(function () {
   	 
   	 $(".select2").select2();
	
    $('.datepicker').datepicker({
        autoclose: true,
        format: 'dd/mm/yyyy',
	    	language: 'pt-BR'
      });
    
	    $(".timepicker").timepicker({
	        showInputs: false
	      });
   
    
    });
	
	
	</script>
							
						

</body>

</html>

